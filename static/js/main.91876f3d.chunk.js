(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),o=n.n(a),r=n(4),s=n.n(r),i=(n(16),n(9)),u=n(3),l=n(7);n(17);function j(e){var t=e.onSubmit,n=Object(a.useState)(""),o=Object(u.a)(n,2),r=o[0],s=o[1];return Object(c.jsx)("header",{className:"Searchbar",children:Object(c.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),s("")):l.b.error("Type something to find")},children:[Object(c.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(c.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(c.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){s(e.currentTarget.value.toLowerCase())}})]})})}var b=n(10),d=n.n(b);n(39);n(40);function f(e){var t=e.onLoadMore;return Object(c.jsx)("button",{type:"button",onClick:t,className:"Button",children:"Load more"})}n(41);function m(e){var t=e.id,n=e.tags,a=e.webformatURL,o=e.largeImageURL,r=e.onClick;return Object(c.jsx)("li",{className:"ImageGalleryItem",children:Object(c.jsx)("img",{src:a,alt:n,className:"ImageGalleryItem-image",onClick:function(){r(o,n)}})},t)}n(42);function h(e){var t=e.status,n=e.error,a=e.images,o=e.onClick,r=e.onLoadMore,s=function(e,t){o(e,t)};return"idle"===t?Object(c.jsx)("div",{className:"helper-text",children:"Enter search query"}):"pending"===t?Object(c.jsx)(d.a,{type:"Rings",color:"darkblue",height:150,width:150,style:{textAlign:"center"}}):"rejected"===t?Object(c.jsx)("h1",{children:n.message}):"resolved"===t&&0!==a.length?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("ul",{className:"ImageGallery",children:a.map((function(e){var t=e.id,n=e.tags,a=e.webformatURL,o=e.largeImageURL;return Object(c.jsx)(m,{id:t,tags:n,webformatURL:a,largeImageURL:o,onClick:s},t)}))}),Object(c.jsx)(f,{onLoadMore:r})]}):Object(c.jsx)("div",{className:"helper-text",children:"We can't find it"})}var O={fetchImages:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("19076620-7a0fb8f11fcad59e80e6da8cf","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("Oh no... We cant find ".concat(e)))})).then((function(e){return e.hits}))}};n(43);function g(e){var t=e.src,n=e.alt,o=e.onCloseModal;Object(a.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"!==e.code&&e.target!==e.currentTarget||o()};return Object(c.jsx)("div",{className:"Overlay",onClick:r,children:Object(c.jsx)("div",{className:"Modal",children:Object(c.jsx)("img",{src:t,alt:n})})})}n(44),n(45);function p(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(1),s=Object(u.a)(r,2),b=s[0],d=s[1],f=Object(a.useState)([]),m=Object(u.a)(f,2),p=m[0],x=m[1],v=Object(a.useState)("idle"),S=Object(u.a)(v,2),w=S[0],y=S[1],k=Object(a.useState)(null),L=Object(u.a)(k,2),N=L[0],C=L[1],I=Object(a.useState)(!1),E=Object(u.a)(I,2),M=E[0],R=E[1],F=Object(a.useState)(""),U=Object(u.a)(F,2),T=U[0],G=U[1],q=Object(a.useState)(""),A=Object(u.a)(q,2),B=A[0],J=A[1],W=Object(a.useRef)(!0);Object(a.useEffect)((function(){W.current?W.current=!1:(y("pending"),_())}),[n]),Object(a.useEffect)((function(){1!==b&&_()}),[b]);var _=function(){O.fetchImages(n,b).then((function(e){x(1===b?e:function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))}),y("resolved"),1!==b&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){C(e),y("rejected")}))},z=function(){R((function(e){return!e}))};return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(j,{onSubmit:function(e){o(e),d(1),x([])}}),Object(c.jsx)(h,{status:w,error:N,images:p,onClick:function(e,t){G(e),J(t),z()},onLoadMore:function(){d((function(e){return e+1}))}}),M&&Object(c.jsx)(g,{src:T,alt:B,onCloseModal:z}),Object(c.jsx)(l.a,{autoClose:3e3})]})}s.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(p,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.91876f3d.chunk.js.map